2022년 4월 부터 샵팬픽에서, 여러 프로젝트를 진행하였다. 오늘은 진행했던 프로젝트에 대해 소개하려 한다.

# 모든 일의 시작, 리워크

샵팬픽의 첫 프로젝트는 리워크였다. React로 작업된 기존 프로젝트의 복잡도가 증가하여 신규 기능을 추가하기에 부적합하다는 판단이 되었기 때문이었다. 여러 회의를 거듭하여 Next.js가 프레임워크로 선정되었다. 기존 React로 만들어진 프로젝트에서 소스들을 가지고 와 빠르게 리워크를 진행할 수 있겠다는 판단으로 React 기반의 Next.js로 진행하려고 했었던 것으로 기억한다.

Next.js로 결정되고 난 후 CSS 라이브러리, 상태 관리 라이브러리, ORM 등을 결정하기 위한 회의가 진행되었다. 프로젝트 컴포넌트 구성은 atomic 시스템으로 구성하고, CSS classname 충돌 등의 문제를 막기 위해 tailwind.css, styled component를 사용하게 되었다. (추후 복잡성을 줄이기 위해 tailwind.css로 통합되었다.) 상태 관리 라이브러리는 미정인 상태로 진행되다가 추후 컴포넌트 사이 데이터 전달을 위해 mobX를 사용하게 되었다. ORM은 프로젝트 단위 업무 분담을 위해 러닝 커브를 줄일 수 있는 prisma.io로 적용하였다. 여러 스타일의 컴포넌트 버전 관리를 위해 storybook도 도입하게 되었다.

## 충돌, 또 충돌

Next.js와 Storybook사이에 호환성 문제가 발생했다. next.js에서는 작동하는 컴포넌트가 storybook에서는 작동하지 않는 이슈, storybook 내에서 오류 메세지가 계속 발생하는 등의 문제였다.

두 프로젝트가 서로 지원하는 React 버전이 달라 호환성을 위해 여러 작업들을 진행하였으나, 지속적으로 문제가 발생하였다. 결국 UI 관리를 위해 진행했던 스토리북을 폐기하고 배포 이전에 개발 서버를 운영하여 UI 테스트를 진행하기로 결정되었다.

## 개발팀과 외부 팀의 소통 문제

스토리북 폐기 후 개발팀에서 진행하는 프로젝트를 외부 팀에서 알기 어려워 소통에 문제가 발생하였다. 진행 완료된 프로젝트가 회사의 기획 의도와 맞지 않게 진행되어 다시 제작해야 하는 일이 발생하는 등의 문제였다. 웹 디자이너의 부재로 인해 프로젝트 진행 전 사전 소통이 제한되는 점 등이 원인이었다고 생각된다. 이후 사전에 제작 중인 프로젝트를 임시 서버에서 실시간으로 공유하여 볼 수 있도록 ngrok로 임시 배포하여 실시간 소통하여 문제를 해결하였다.

